const socket=io(),cells=document.querySelectorAll(".cell"),statusText=document.getElementById("status");let jogadorAtual="X",jogoAtivo=!0,placar={X:0,O:0},tabuleiro=["","","","","","","","",""],nomeX="Jogador X",nomeO="Jogador O";const clickSound=new Audio("https://www.soundjay.com/button/sounds/button-16.mp3"),combinacoesVitoria=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];function startGame(){nomeX=document.getElementById("nomeX").value||"Jogador X",nomeO=document.getElementById("nomeO").value||"Jogador O",document.getElementById("start-screen").style.display="none",document.getElementById("game-container").style.display="block",atualizarStatus()}function clicarNaCelula(t){let e=t.target.dataset.index;""===tabuleiro[e]&&jogoAtivo&&(tabuleiro[e]=jogadorAtual,t.target.textContent="X"===jogadorAtual?"❌":"⭕",clickSound.play(),socket.emit("move",{index:e,jogador:jogadorAtual}),verificarVitoria()?(statusText.textContent=`${"X"===jogadorAtual?nomeX:nomeO} venceu!`,placar[jogadorAtual]++,atualizarPlacar(),jogoAtivo=!1):tabuleiro.includes("")?(jogadorAtual="X"===jogadorAtual?"O":"X",atualizarStatus()):(statusText.textContent="Empate!",jogoAtivo=!1))}function atualizarStatus(){statusText.textContent=`Vez de ${"X"===jogadorAtual?nomeX:nomeO}`}function verificarVitoria(){return combinacoesVitoria.some(t=>t.every(t=>tabuleiro[t]===jogadorAtual))}function atualizarPlacar(){document.getElementById("placarX").textContent=`❌ ${placar.X}`,document.getElementById("placarO").textContent=`⭕ ${placar.O}`}function reiniciarJogo(){tabuleiro=["","","","","","","","",""],jogadorAtual="X",jogoAtivo=!0,cells.forEach(t=>t.textContent=""),atualizarStatus(),socket.emit("reset")}function voltarAoMenu(){document.getElementById("game-container").style.display="none",document.getElementById("start-screen").style.display="flex",reiniciarJogo()}socket.on("move",({index:t,jogador:e})=>{tabuleiro[t]=e,cells[t].textContent="X"===e?"❌":"⭕",clickSound.play(),verificarVitoria()?(statusText.textContent=`${"X"===e?nomeX:nomeO} venceu!`,placar[e]++,atualizarPlacar(),jogoAtivo=!1):tabuleiro.includes("")?(jogadorAtual="X"===e?"O":"X",atualizarStatus()):(statusText.textContent="Empate!",jogoAtivo=!1)}),socket.on("reset",reiniciarJogo),cells.forEach(t=>{t.addEventListener("click",clicarNaCelula)});





